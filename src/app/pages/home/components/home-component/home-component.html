<!-- ðŸŒŸ Page Title -->
<div class="px-6 pt-6 pb-2">
  <h1 class="text-3xl font-bold text-gray-800 tracking-tight flex items-center gap-3">
    <i class="pi pi-chart-pie text-blue-500 text-4xl"></i>
    Fleet Status
  </h1>
  <p class="text-gray-500 text-sm mt-1">
    Overview of fleet performance and status distribution
  </p>
  <hr class="border-t-2 border-blue-400 w-32 mt-2" />
</div>

<!-- âœ… Grid layout: 1 column on mobile, 2 columns on medium and larger screens -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-6">

  <!-- âœ… Each chart panel (clickable) (click)="openDialog(chart)" -->
  <p-panel
    *ngFor="let chart of charts"
    [header]="chart.title"
    [toggleable]="false"
    class="cursor-pointer hover:shadow-lg transition-shadow"
  >
    <div class="m-4">
      <!-- ðŸ“Š Small chart shown inside the card -->
      <pie-chart
        [data]="chart.data"
        [title]="chart.title"
        [style]="{ width: '100%', height: '250px' }"
      ></pie-chart>
    </div>
  </p-panel>
</div>

<!-- âœ… Popup dialog for enlarged chart -->
<p-dialog
  header="{{ selectedChart?.title }}"
  [(visible)]="displayDialog"
  [modal]="true"
  [style]="{ width: '80vw', maxWidth: '900px' }"
  [baseZIndex]="10000"
  [draggable]="false"
  [resizable]="false"
>
  <div class="flex justify-center items-center p-4">
    <!-- ðŸ“ˆ Larger chart displayed inside the dialog -->
    <pie-chart
      *ngIf="selectedChart"
      [data]="selectedChart.data"
      [title]="selectedChart.title"
      [style]="{ width: '100%', height: '500px' }"
    ></pie-chart>
  </div>
</p-dialog>
